<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>캠핑장 모음</title>
<style>
/* 이전에 쓰신 CSS 그대로 유지 */
</style>
</head>
<body>
<h1>캠핑장 모음</h1>
<div class="camp-list" id="campList"></div>

<!-- 지도 모달 -->
<div id="mapModal" class="modal">
  <div class="modal-content">
    <img id="mapImage" src="" alt="캠핑장 지도">
    <br>
    <button class="close-btn" onclick="closeMap()">닫기</button>
  </div>
</div>

<script>
// JSON 불러오기
async function loadCamps() {
  const response = await fetch("camps.json");
  const camps = await response.json();
  renderCamps(camps);
}

function renderCamps(camps) {
  const list = document.getElementById("campList");
  list.innerHTML = "";
  camps.forEach(camp => {
    const campDiv = document.createElement("div");
    campDiv.className = "camp";
    campDiv.innerHTML = `
      <button class="camp-btn" onclick="toggleInfo(this)">${camp.name}</button>
      <p class="camp-desc">${camp.desc}</p>
      <div class="camp-info">
        <a href="${camp.link}" target="_blank">사이트 접속</a>
        <button onclick="openMap('${camp.map}')">지도 보기</button>
      </div>
    `;
    list.appendChild(campDiv);
  });
}

function toggleInfo(button) {
  const info = button.nextElementSibling.nextElementSibling;
  info.style.display = (info.style.display === "block") ? "none" : "block";
}

function openMap(imgSrc) {
  document.getElementById("mapImage").src = imgSrc;
  document.getElementById("mapModal").style.display = "flex";
}

function closeMap() {
  document.getElementById("mapModal").style.display = "none";
}

// 실행
loadCamps();
</script>
</body>
</html>
